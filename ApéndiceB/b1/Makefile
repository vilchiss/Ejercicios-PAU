# Para la creaci√≥n de la biblioteca
AR = ar
ARFLAGS = rs

# Compilador de C
CC = cc
CFLAGS = -L./

# Archivos
TARGET = pol
BIBLIOTECA = libpol.a
OBJETOS_BIBLIOTECA = pol_es.o pol_arit.o
OBJETOS_PROGRAMA = pol.o
PROGRAMAS_FUENTE = pol.c pol_es.c pol_arit.c

$(TARGET): $(OBJETOS_PROGRAMA) $(BIBLIOTECA)
	$(CC) $(OBJETOS_PROGRAMA) $(CFLAGS) -lpol -lm -o $(TARGET)

$(OBJETOS_PROGRAMA) $(OBJETOS_BIBLIOTECA): $(PROGRAMAS_FUENTE)
	$(CC) -c $(PROGRAMAS_FUENTE) $(CFLAGS)

$(BIBLIOTECA): $(OBJETOS_BIBLIOTECA)
	$(AR) $(ARFLAGS) $(BIBLIOTECA) $(OBJETOS_BIBLIOTECA)

$(OBJETOS_PROGRAMA) $(OBJETOS_BIBLIOTECA): pol.h

run:
	./pol

.PHONY: clean
clean:
	-rm $(TARGET)
	-rm $(OBJETOS_PROGRAMA) $(OBJETOS_BIBLIOTECA)
	-rm $(BIBLIOTECA)
